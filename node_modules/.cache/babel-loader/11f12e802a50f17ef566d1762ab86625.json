{"ast":null,"code":"var _jsxFileName = \"/Users/rachelemilyperez/projects/noteful-app/noteful-app-client/src/EditNote/EditNote.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './EditNote.css';\nimport ApiContext from '../ApiContext';\nimport config from '../config';\nexport default class EditNote extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      error: null,\n      name: \"\",\n      content: \"\",\n      folder: \"\"\n    };\n\n    this.handleNameChange = e => {\n      this.setState({\n        name: e.target.value\n      });\n    };\n\n    this.handleContentChange = e => {\n      this.setState({\n        content: e.target.value\n      });\n    };\n\n    this.handleFolderChange = e => {\n      this.setState({\n        folder: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const noteName = e.target.name.value;\n      this.setState({\n        name: noteName\n      });\n      console.log(this.state);\n      const noteId = this.props.match.params.noteId;\n      const url = \"http://localhost:8000/api/notes/\".concat(noteId);\n      console.log(url);\n      const options = {\n        method: 'PATCH',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify(this.state.inputValues)\n      };\n      fetch(url, options).then(res => {\n        this.context.updateNote(res);\n\n        if (!res.ok) {\n          throw new Error('Something went wrong, please try again later');\n        }\n\n        return res.json();\n      }).then(data => {\n        this.context.updateNote(data);\n      }).catch(err => {\n        this.setState({\n          error: err.message\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    const noteId = this.props.match.params.noteId;\n    fetch(\"http://localhost:8000/api/folders/\".concat(noteId), {\n      method: 'GET'\n    }).then(res => {\n      if (!res.ok) {\n        throw new Error('Something went wrong, please try again later');\n      }\n\n      return res.json();\n    }).then(data => {\n      this.setState({\n        name: data.name,\n        content: data.content,\n        folder: data.folder\n      });\n    }).catch(err => {\n      this.setState({\n        error: err.message\n      });\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          name = _this$state.name,\n          content = _this$state.content,\n          folders = _this$state.folders;\n    return React.createElement(\"section\", {\n      className: \"EditNote\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Edit Note\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Name:\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"name\",\n      name: \"name\",\n      defaultValue: name // onChange={this.handleNameChange}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"note-content-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Content\"), React.createElement(\"textarea\", {\n      type: \"text\",\n      id: \"content\",\n      name: \"content\",\n      defaultValue: content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"note-folder-select\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Folder\"), React.createElement(\"select\", {\n      id: \"selectedFolder\",\n      name: \"selectedFolder\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: null,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"...\"), folders.map(folder => React.createElement(\"option\", {\n      key: folder.id,\n      value: folder.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, folder.name)))), React.createElement(\"div\", {\n      className: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"editButton\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Edit folder\"))));\n  }\n\n}\nEditNote.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.object\n  }),\n  history: PropTypes.shape({\n    push: PropTypes.func\n  }).isRequired\n};\nEditNote.contextType = ApiContext;","map":{"version":3,"sources":["/Users/rachelemilyperez/projects/noteful-app/noteful-app-client/src/EditNote/EditNote.js"],"names":["React","Component","PropTypes","ApiContext","config","EditNote","state","error","name","content","folder","handleNameChange","e","setState","target","value","handleContentChange","handleFolderChange","handleSubmit","preventDefault","noteName","console","log","noteId","props","match","params","url","options","method","headers","body","JSON","stringify","inputValues","fetch","then","res","context","updateNote","ok","Error","json","data","catch","err","message","componentDidMount","render","folders","map","id","propTypes","shape","object","history","push","func","isRequired","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './EditNote.css';\nimport ApiContext from '../ApiContext';\nimport config from '../config'\n\nexport default class EditNote extends Component {\n\n    static propTypes = {\n        match: PropTypes.shape({\n          params: PropTypes.object,\n        }),\n        history: PropTypes.shape({\n          push: PropTypes.func,\n        }).isRequired,\n      };\n\n    state = {\n        error: null,\n        name: \"\",\n        content: \"\",\n        folder: \"\"\n    }\n\n    static contextType = ApiContext\n\n    componentDidMount() {\n\n    const noteId = this.props.match.params.noteId\n\n    fetch(`http://localhost:8000/api/folders/${noteId}`, { method: 'GET'})\n        .then(res => {\n        if(!res.ok) {\n            throw new Error('Something went wrong, please try again later');\n        }\n        return res.json();\n        })  \n    .then(data => {\n         this.setState({\n                 name: data.name,\n                 content: data.content,\n                 folder: data.folder\n         })\n        })\n    .catch(err => {\n        this.setState({\n            error: err.message\n            });\n        })\n    }\n\n    handleNameChange = e => {\n        this.setState({ name: e.target.value })\n      };\n\n    handleContentChange = e => {\n        this.setState({ content: e.target.value })\n    };\n\n    handleFolderChange = e => {\n        this.setState({ folder: e.target.value })\n      };\n\n    handleSubmit = e => {\n        e.preventDefault()\n        const noteName = e.target.name.value\n        this.setState ({\n           name: noteName\n        })\n\n        console.log(this.state)\n\n        const noteId = this.props.match.params.noteId\n\n        const url = `http://localhost:8000/api/notes/${noteId}`\n        console.log(url)\n        const options = {\n            method: 'PATCH',\n             headers: {\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify(this.state.inputValues)\n        }\n        fetch(url, options)\n        .then(res => {\n        this.context.updateNote(res)\n        if(!res.ok) {\n            throw new Error('Something went wrong, please try again later');\n        }\n        return res.json();\n        })  \n        .then(data => {\n            this.context.updateNote(data)\n        })\n     .catch(err => {\n        this.setState({\n            error: err.message\n            });\n        })\n}\n\nrender() {\n    const { name, content, folders  } = this.state\n \n    return (\n      <section className='EditNote'>\n        <h2>Edit Note</h2>\n        <form onSubmit={this.handleSubmit}> \n            <div className='field'>\n                <label htmlFor='name-input'>\n                Name:\n                </label>\n                <input \n                    type='text' \n                    id='name' \n                    name='name'\n                    defaultValue={name}\n                    // onChange={this.handleNameChange}\n                    />\n            </div>\n            <div className='field'>\n              <label htmlFor='note-content-input'>\n                Content\n              </label>\n              <textarea \n              type='text' \n              id='content' \n              name='content'\n              defaultValue={content}/>\n            </div>\n            <div className='field'>\n              <label htmlFor='note-folder-select'>\n                Folder\n              </label>\n              <select id='selectedFolder' name='selectedFolder'>\n                <option value={null}>...</option>\n                {folders.map(folder =>\n                  <option key={folder.id} value={folder.id}>\n                    {folder.name}\n                  </option>\n                )}\n              </select>\n            </div>\n            <div className='buttons'>\n                <button className='editButton' type='submit'>\n                Edit folder\n                </button>\n            </div>\n        </form>\n      </section>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}