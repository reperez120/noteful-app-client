{"ast":null,"code":"var _jsxFileName = \"/Users/rachelemilyperez/projects/noteful-app/noteful-app-client/src/EditFolder/EditFolder.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './EditFolder.css';\nimport ApiContext from '../ApiContext';\nimport config from '../config';\nexport default class EditFolder extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      error: null,\n      id: '',\n      name: ''\n    };\n\n    this.handleNameChange = e => {\n      this.setState({\n        name: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const folderId = this.props.match.params.folderId;\n      const name = this.state.name.name;\n      const newFolder = {\n        name // const folderName = e.target.name.value\n        // this.setState ({\n        //    name: folderName\n        // })\n        // console.log(this.state)\n        // const folderId = this.props.match.params.folderId\n\n      };\n      const url = \"http://localhost:8000/api/folders/\".concat(folderId);\n      const options = {\n        method: 'PATCH',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify(newFolder)\n      };\n      fetch(url, options).then(res => {\n        this.context.updateFolder(res);\n\n        if (!res.ok) {\n          throw new Error('Something went wrong, please try again later');\n        }\n\n        return res.json();\n      }).then(data => {\n        this.resetFields(newFolder);\n        this.context.updateFolder(newFolder);\n        this.props.history.push('/');\n      }).catch(err => {\n        this.setState({\n          error: err.message\n        });\n      });\n    };\n\n    this.resetFields = newFields => {\n      this.setState({\n        name: newFields.name || ''\n      });\n    };\n\n    this.handleClickCancel = () => {\n      this.props.history.push('/');\n    };\n  }\n\n  componentDidMount() {\n    const folderId = this.props.match.params.folderId.folderId;\n    fetch(\"http://localhost:8000/api/folders/\".concat(folderId), {\n      method: 'GET'\n    }).then(res => {\n      if (!res.ok) {\n        throw new Error('Something went wrong, please try again later');\n      }\n\n      return res.json();\n    }).then(data => {\n      console.log(data);\n      this.setState({\n        name: data.name\n      });\n    }).catch(err => {\n      this.setState({\n        error: err.message\n      });\n    });\n  }\n\n  render() {\n    const name = this.state.name;\n    return React.createElement(\"section\", {\n      className: \"EditFolder\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Edit Folder\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Name:\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"name\",\n      name: \"name\",\n      defaultValue: name,\n      onChange: this.handleNameChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"editButton\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Edit folder\"))));\n  }\n\n}\nEditFolder.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.object\n  }),\n  history: PropTypes.shape({\n    push: PropTypes.func\n  }).isRequired\n};\nEditFolder.contextType = ApiContext;","map":{"version":3,"sources":["/Users/rachelemilyperez/projects/noteful-app/noteful-app-client/src/EditFolder/EditFolder.js"],"names":["React","Component","PropTypes","ApiContext","config","EditFolder","state","error","id","name","handleNameChange","e","setState","target","value","handleSubmit","preventDefault","folderId","props","match","params","newFolder","url","options","method","headers","body","JSON","stringify","fetch","then","res","context","updateFolder","ok","Error","json","data","resetFields","history","push","catch","err","message","newFields","handleClickCancel","componentDidMount","console","log","render","propTypes","shape","object","func","isRequired","contextType"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,kBAAP;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,eAAe,MAAMC,UAAN,SAAyBJ,SAAzB,CAAmC;AAAA;AAAA;AAAA,SAiB9CK,KAjB8C,GAiBtC;AACJC,MAAAA,KAAK,EAAE,IADH;AAEJC,MAAAA,EAAE,EAAE,EAFA;AAGJC,MAAAA,IAAI,EAAE;AAHF,KAjBsC;;AAAA,SAgD9CC,gBAhD8C,GAgD3BC,CAAC,IAAI;AACpB,WAAKC,QAAL,CAAc;AAAEH,QAAAA,IAAI,EAAEE,CAAC,CAACE,MAAF,CAASC;AAAjB,OAAd;AACD,KAlD2C;;AAAA,SAoD9CC,YApD8C,GAoD/BJ,CAAC,IAAI;AAChBA,MAAAA,CAAC,CAACK,cAAF;AADgB,YAGRC,QAHQ,GAGK,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAHtB,CAGRH,QAHQ;AAAA,YAIRR,IAJQ,GAIC,KAAKH,KAAL,CAAWG,IAJZ,CAIRA,IAJQ;AAKhB,YAAMY,SAAS,GAAG;AAAEZ,QAAAA,IAAF,CAElB;AACA;AACA;AACA;AAEA;AAEA;;AATkB,OAAlB;AAWA,YAAMa,GAAG,+CAAwCL,QAAxC,CAAT;AACA,YAAMM,OAAO,GAAG;AACZC,QAAAA,MAAM,EAAE,OADI;AAEXC,QAAAA,OAAO,EAAE;AACN,0BAAgB;AADV,SAFE;AAKZC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,SAAf;AALM,OAAhB;AAOAQ,MAAAA,KAAK,CAACP,GAAD,EAAMC,OAAN,CAAL,CACCO,IADD,CACMC,GAAG,IAAI;AACb,aAAKC,OAAL,CAAaC,YAAb,CAA0BF,GAA1B;;AACA,YAAG,CAACA,GAAG,CAACG,EAAR,EAAY;AACR,gBAAM,IAAIC,KAAJ,CAAU,8CAAV,CAAN;AACH;;AACD,eAAOJ,GAAG,CAACK,IAAJ,EAAP;AACC,OAPD,EAQCN,IARD,CAQMO,IAAI,IAAI;AACV,aAAKC,WAAL,CAAiBjB,SAAjB;AACA,aAAKW,OAAL,CAAaC,YAAb,CAA0BZ,SAA1B;AACA,aAAKH,KAAL,CAAWqB,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACH,OAZD,EAaFC,KAbE,CAaIC,GAAG,IAAI;AACX,aAAK9B,QAAL,CAAc;AACVL,UAAAA,KAAK,EAAEmC,GAAG,CAACC;AADD,SAAd;AAGC,OAjBD;AAkBP,KA9FiD;;AAAA,SAgGlDL,WAhGkD,GAgGnCM,SAAD,IAAe;AACzB,WAAKhC,QAAL,CAAc;AACZH,QAAAA,IAAI,EAAEmC,SAAS,CAACnC,IAAV,IAAkB;AADZ,OAAd;AAGD,KApG+C;;AAAA,SAsGhDoC,iBAtGgD,GAsG5B,MAAM;AACxB,WAAK3B,KAAL,CAAWqB,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD,KAxG+C;AAAA;;AAwB9CM,EAAAA,iBAAiB,GAAG;AAAA,UAEZ7B,QAFY,GAEC,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,QAFzB,CAEZA,QAFY;AAIpBY,IAAAA,KAAK,6CAAsCZ,QAAtC,GAAkD;AAAEO,MAAAA,MAAM,EAAE;AAAV,KAAlD,CAAL,CACKM,IADL,CACUC,GAAG,IAAI;AACb,UAAG,CAACA,GAAG,CAACG,EAAR,EAAY;AACR,cAAM,IAAIC,KAAJ,CAAU,8CAAV,CAAN;AACH;;AACD,aAAOJ,GAAG,CAACK,IAAJ,EAAP;AACC,KANL,EAOCN,IAPD,CAOMO,IAAI,IAAI;AACVU,MAAAA,OAAO,CAACC,GAAR,CAAYX,IAAZ;AACC,WAAKzB,QAAL,CAAc;AACNH,QAAAA,IAAI,EAAE4B,IAAI,CAAC5B;AADL,OAAd;AAGA,KAZL,EAaCgC,KAbD,CAaOC,GAAG,IAAI;AACV,WAAK9B,QAAL,CAAc;AACVL,QAAAA,KAAK,EAAEmC,GAAG,CAACC;AADD,OAAd;AAGC,KAjBL;AAkBC;;AA4DLM,EAAAA,MAAM,GAAG;AAAA,UACGxC,IADH,GACY,KAAKH,KADjB,CACGG,IADH;AAGL,WACE;AAAS,MAAA,SAAS,EAAC,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE;AAAM,MAAA,QAAQ,EAAE,KAAKM,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,OAAO,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAII;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,EAAE,EAAC,MAFP;AAGI,MAAA,IAAI,EAAC,MAHT;AAII,MAAA,YAAY,EAAEN,IAJlB;AAKI,MAAA,QAAQ,EAAE,KAAKC,gBALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CADJ,EAaI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAA+B,MAAA,IAAI,EAAC,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,CAbJ,CAFF,CADF;AAwBD;;AArI+C;AAA7BL,U,CAMV6C,S,GAAY;AACf/B,EAAAA,KAAK,EAAEjB,SAAS,CAACiD,KAAV,CAAgB;AACrB/B,IAAAA,MAAM,EAAElB,SAAS,CAACkD;AADG,GAAhB,CADQ;AAIfb,EAAAA,OAAO,EAAErC,SAAS,CAACiD,KAAV,CAAgB;AACvBX,IAAAA,IAAI,EAAEtC,SAAS,CAACmD;AADO,GAAhB,EAENC;AANY,C;AANFjD,U,CAeVkD,W,GAAcpD,U","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './EditFolder.css';\nimport ApiContext from '../ApiContext';\nimport config from '../config'\n\nexport default class EditFolder extends Component {\n\n    // state = {\n    //     name: \"\"\n    // }\n\n    static propTypes = {\n        match: PropTypes.shape({\n          params: PropTypes.object,\n        }),\n        history: PropTypes.shape({\n          push: PropTypes.func,\n        }).isRequired,\n      };\n\n    static contextType = ApiContext\n\n    state = {\n        error: null,\n        id: '',\n        name: ''\n      };\n    \n\n    componentDidMount() {\n\n    const { folderId } = this.props.match.params.folderId\n\n    fetch(`http://localhost:8000/api/folders/${folderId}`, { method: 'GET'})\n        .then(res => {\n        if(!res.ok) {\n            throw new Error('Something went wrong, please try again later');\n        }\n        return res.json();\n        })  \n    .then(data => {\n        console.log(data)\n         this.setState({\n                 name: data.name\n         })\n        })\n    .catch(err => {\n        this.setState({\n            error: err.message\n            });\n        })\n    }\n\n    handleNameChange = e => {\n        this.setState({ name: e.target.value })\n      };\n\n    handleSubmit = e => {\n        e.preventDefault()\n\n        const { folderId } = this.props.match.params\n        const { name } = this.state.name\n        const newFolder = { name }\n\n        // const folderName = e.target.name.value\n        // this.setState ({\n        //    name: folderName\n        // })\n\n        // console.log(this.state)\n\n        // const folderId = this.props.match.params.folderId\n\n        const url = `http://localhost:8000/api/folders/${folderId}`\n        const options = {\n            method: 'PATCH',\n             headers: {\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify(newFolder)\n        }\n        fetch(url, options)\n        .then(res => {\n        this.context.updateFolder(res)\n        if(!res.ok) {\n            throw new Error('Something went wrong, please try again later');\n        }\n        return res.json();\n        })  \n        .then(data => {\n            this.resetFields(newFolder)\n            this.context.updateFolder(newFolder)\n            this.props.history.push('/')\n        })\n     .catch(err => {\n        this.setState({\n            error: err.message\n            });\n        })\n}\n\nresetFields = (newFields) => {\n    this.setState({\n      name: newFields.name || ''\n    })\n  }\n\n  handleClickCancel = () => {\n    this.props.history.push('/')\n  };\n\nrender() {\n    const { name } = this.state\n \n    return (\n      <section className='EditFolder'>\n        <h2>Edit Folder</h2>\n        <form onSubmit={this.handleSubmit}> \n            <div className='field'>\n                <label htmlFor='name-input'>\n                Name:\n                </label>\n                <input \n                    type='text' \n                    id='name' \n                    name='name'\n                    defaultValue={name}\n                    onChange={this.handleNameChange}\n                    />\n            </div>\n            <div className='buttons'>\n                <button className='editButton' type='submit'>\n                Edit folder\n                </button>\n            </div>\n        </form>\n      </section>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}